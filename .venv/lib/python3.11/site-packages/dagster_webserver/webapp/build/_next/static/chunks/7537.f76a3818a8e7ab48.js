"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7537],{59502:function(e,t,r){r.d(t,{p:function(){return y}});var i=r(52322),s=r(39013),n=r(60129),l=r(35292),a=r(35002),o=r(40191),c=r(28879),d=r.n(c),u=r(77491),h=r.n(u),x=r(2784),p=r(2728),m=r(22791),g=r(57758),j=r(88257);d().extend(h());let f={[j.izS.SUCCESS]:s.fA(),[j.izS.FAILURE]:s.FY(),[j.izS.STARTED]:s.v4(),[j.izS.SKIPPED]:s.A8()},v={[j.izS.SUCCESS]:s.Lv(),[j.izS.FAILURE]:s.MP(),[j.izS.STARTED]:s.Jq(),[j.izS.SKIPPED]:s.$l()},y=e=>{let{ticks:t,tickResultType:r,onHoverTick:s,onSelectTick:o,exactRange:c,timeRange:d=3e5,tickGrid:u=6e4,timeAfter:h=6e4}=e,[p,j]=(0,x.useState)(Date.now()),[f,v]=(0,x.useState)(!1);(0,x.useEffect)(()=>{if(!f&&!c){let e=setInterval(()=>{j(Date.now())},100);return()=>clearInterval(e)}return()=>{}},[c,f]);let y=c?.[1]?1e3*c[1]:p+h,I=c?.[0]?1e3*c[0]:p-d,A=I<p&&p<y,$=y-I,{viewport:R,containerProps:P}=(0,n.S)(),L=(0,x.useMemo)(()=>t.filter(e=>!e.endTimestamp||1e3*e.endTimestamp>I).reverse(),[t,I]),O=(0,x.useMemo)(()=>L.map((e,t)=>{var r,i;let s=(r=1e3*e.timestamp,R.width*(r-I)/$),n=(i=(0,g.g6)(e,L.length-t-1)?e.timestamp:e.endTimestamp?1e3*e.endTimestamp:p,R.width*(i-I)/$);return{...e,width:Math.max(n-s,8),startX:s}}),[I,p,L,$,R.width]),M=Math.max((y-I)/25,u)/5,N=Math.ceil(I/M)*M,_=Math.ceil((y-N)/M),q=Math.ceil(_/5),B=(0,x.useMemo)(()=>{let e=[];for(let t=0;t<_;t++){let r=N+t*M;e.push({time:r,x:R.width*(r-I)/$,showLabel:t%q==0})}return e},[_,N,M,R.width,I,$,q]);return(0,i.jsx)("div",{style:{marginRight:"8px"},children:(0,i.jsxs)("div",{...P,children:[(0,i.jsxs)(b,{children:[B.map(e=>(0,i.jsxs)(C,{style:{transform:`translateX(${e.x}px)`},children:[(0,i.jsx)(E,{}),e.showLabel?(0,i.jsx)(T,{children:(0,i.jsx)(l.YS,{children:(0,i.jsx)(m.E,{timestamp:{ms:e.time},timeFormat:{showSeconds:!0}})})}):null]},e.time)),O.map(e=>{let t=("materializations"!==r&&"runIds"in e?e.runIds?.length:e.requestedAssetMaterializationCount)??0;return(0,i.jsx)(S,{style:{transform:`translateX(${e.startX}px)`,width:`${e.width}px`},status:e.status,onMouseEnter:()=>{s(e),v(!0)},onMouseLeave:()=>{s(),v(!1)},onClick:()=>{o(e)},children:(0,i.jsx)(a.u,{content:(0,i.jsx)(w,{tick:e,tickResultType:r}),children:(0,i.jsx)("div",{style:{width:e.width+"px",height:"80px"},children:t>0?t:null})})},e.id)}),A?(0,i.jsx)(z,{style:{transform:`translateX(${R.width*(p-I)/$}px)`}}):null]}),(0,i.jsx)(k,{})]})})},w=(0,x.memo)(e=>{let{tick:t,tickResultType:r}=e,n=(0,x.useMemo)(()=>t.status===j.izS.FAILURE?"Evaluation failed":t.status===j.izS.STARTED?"Evaluating…":"materializations"!==r&&"runs"in t?`${t.runs?.length||0} run${(0,o.I)(t.runs?.length,"","s")} requested`:`${t.requestedAssetMaterializationCount} materialization${(0,o.I)(t.requestedAssetMaterializationCount,"","s")} requested`,[t,r]),a=d()(1e3*t.timestamp),c=d()(t.endTimestamp?1e3*t.endTimestamp:Date.now()),u=a.to(c,!0);return(0,i.jsxs)("div",{children:[(0,i.jsx)(l.YS,{as:"div",children:(0,i.jsx)(m.E,{timestamp:{unix:t.timestamp},timeFormat:{showSeconds:!0}})}),(0,i.jsxs)(l.YS,{as:"div",children:[n," (",u,")"]}),t.status===j.izS.STARTED?null:(0,i.jsx)(l.YS,{color:s.$(),children:"Click for details"})]})}),b=p.ZP.div.withConfig({componentId:"sc-93f8c965-0"})(["position:relative;height:100px;padding:10px 2px;border-bottom:1px solid ",";"],s.wL()),k=p.ZP.div.withConfig({componentId:"sc-93f8c965-1"})(["height:24px;"]),S=p.ZP.div.withConfig({componentId:"sc-93f8c965-2"})(["cursor:pointer;position:absolute;top:10px;height:80px;will-change:transform,width;border-radius:2px;div{place-content:center;display:grid;}color:",";",""],s.v8(),e=>{let{status:t}=e;return`
    background: ${f[t]};
    &:hover {
      background: ${v[t]};
    }
  `}),C=p.ZP.div.withConfig({componentId:"sc-93f8c965-3"})(["position:absolute;top:0;height:124px;will-change:transform;"]),E=p.ZP.div.withConfig({componentId:"sc-93f8c965-4"})(["position:absolute;top:0;height:108px;width:1px;background:",";"],s.wL()),T=p.ZP.div.withConfig({componentId:"sc-93f8c965-5"})(["height:16px;position:absolute;bottom:0;width:100px;margin-left:-24px;"]),z=p.ZP.div.withConfig({componentId:"sc-93f8c965-6"})(["position:absolute;top:0;height:126px;width:2px;background:",";&:after{content:'Now';position:absolute;left:0;background:",";color:",";bottom:0;font-size:12px;padding:3px 4px;}"],s.Bj(),s.Bj(),s.KH())},57758:function(e,t,r){r.d(t,{g6:function(){return s},sw:function(){return n}});var i=r(88257);function s(e,t){return!e.endTimestamp&&(0!==t&&e.status===i.izS.STARTED||1e3*e.timestamp<Date.now()-259200)}function n(e,t){return e.reduce((e,r)=>r.type===t?e+(r.partitionKeys?.length||0):e,0)}},77537:function(e,t,r){r.r(t),r.d(t,{OverviewRoot:function(){return tI},default:function(){return tA}});var i,s,n=r(52322),l=r(7267),a=r(38491),o=r(14934),c=r(2784),d=r(79106),u=r(74159),h=r(16629),x=r(60129),p=r(36853),m=r(43212),g=r(39013),j=r(46100),f=r(60603),v=r(35292),y=r(88510),w=r(47933),b=r(2728),k=r(99590),S=r(16336),C=r(69737),E=r(99048),T=r(98705),z=r(44900),I=r(46318),A=r(79342),$=r(6927),R=r(75442),P=r(20171),L=r(4378),O=r(79059),M=r(17008),N=r(65822),_=r(10539);let q=e=>{let{Header:t,TabButton:r}=e;(0,C.Px)(),(0,P.j)("Overview | Assets");let{assets:i,query:s,error:l,loading:a}=(0,$.Zg)(),x=(0,S.bT)({refresh:s,intervalMs:S.dT,leading:!0}),p=c.useMemo(()=>i?function(e){let t={};return e.forEach(e=>{if(!e.definition)return;let r=e.definition.groupName,i=e.definition.repository.name,s=`${r}||${i}`,n=t[s]||{groupName:r,repositoryName:i,assets:[]};n.assets.push(e),t[s]=n}),Object.values(t)}(i):[],[i]),[m,g]=(0,L.q)({queryKey:"q",decode:e=>e.searchQuery?JSON.parse(e.searchQuery):"",encode:e=>({searchQuery:e?JSON.stringify(e):void 0})}),j=c.useMemo(()=>""===m?p:p.filter(e=>(e.groupName||U).toLowerCase().includes(m.toLowerCase())||e.repositoryName.toLowerCase().includes(m.toLowerCase())),[p,m]),f=c.useMemo(()=>j.flatMap(e=>e.assets.map(e=>e.key))??[],[j]);(0,E.NY)(f,"OverviewAssetsRoot");let v=c.useRef(null),b=(0,y.MG)({count:j.length,getScrollElement:()=>v.current,estimateSize:()=>82,overscan:5}),T=b.getTotalSize(),z=b.getVirtualItems();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{position:"sticky",top:0,zIndex:1},children:[(0,n.jsx)(t,{refreshState:x}),(0,n.jsxs)(o.x,{padding:{horizontal:24,vertical:16},flex:{alignItems:"center",gap:12,grow:0},children:[(0,n.jsx)(r,{selected:"assets"}),(0,n.jsx)(u.oi,{value:m,onChange:e=>{g(e.target.value)},placeholder:"Filter asset groups…"})]}),(0,n.jsx)(o.x,{padding:{horizontal:24,vertical:16},border:"top",children:(0,n.jsx)(h.b,{intent:"info",title:"This Assets tab will be removed in an upcoming release.",description:(0,n.jsxs)(n.Fragment,{children:["Use the ",(0,n.jsx)(w.rU,{to:"/asset-groups",children:"global asset lineage page"})," to view grouped asset status details."]})})})]}),a?(0,n.jsx)(o.x,{flex:{alignItems:"center",justifyContent:"center",direction:"column",grow:1},style:{width:"100%"},children:(0,n.jsx)(d.$,{purpose:"page"})}):l?(0,n.jsx)(o.x,{flex:{alignItems:"center",justifyContent:"center",direction:"column",grow:1},style:{width:"100%"},children:(0,n.jsx)(k.T9,{error:l})}):(0,n.jsx)(o.x,{flex:{direction:"column"},style:{overflow:"hidden"},children:(0,n.jsxs)(M.W2,{ref:v,children:[(0,n.jsx)(F,{}),(0,n.jsx)(M.Nh,{$totalHeight:T,children:z.map(e=>{let{index:t,key:r,size:i,start:s}=e,l=j[t];return(0,n.jsx)(D,{start:s,height:i,group:l},r)})})]})})]})},B="5fr 1fr 1fr 1fr 1fr",F=()=>(0,n.jsxs)(M.VJ,{templateColumns:B,sticky:!0,children:[(0,n.jsx)(M.qN,{children:"Group name"}),(0,n.jsx)(M.qN,{children:"Missing"}),(0,n.jsx)(M.qN,{children:"Failed/Overdue"}),(0,n.jsx)(M.qN,{children:"In progress"}),(0,n.jsx)(M.qN,{children:"Materialized"})]}),U="Ungrouped Assets";function D(e){let{height:t,start:r,group:i}=e,s=c.useMemo(()=>i.assets.map(e=>({path:e.key.path})),[i.assets]),{liveDataByNode:l}=(0,E.NY)(s),a=c.useMemo(()=>(0,I.s)(i.assets,l),[l,i.assets]),u=i.assets.find(e=>e.definition?.repository)?.definition?.repository,h=(0,N.kQ)(u?.name||"",u?.location.name||""),{containerProps:j,viewport:f}=(0,x.S)(),v=s.length!==Object.keys(l).length,y=v?"":"0";return(0,n.jsx)(M.X2,{$height:t,$start:r,children:(0,n.jsxs)(K,{border:"bottom",children:[(0,n.jsx)(J,{children:(0,n.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",grow:1},children:[(0,n.jsxs)(o.x,{flex:{direction:"column",gap:2,grow:1},children:[(0,n.jsxs)(o.x,{flex:{direction:"row",gap:8},children:[(0,n.jsx)(p.JO,{name:"asset_group"}),i.groupName?(0,n.jsx)(w.rU,{style:{fontWeight:700},to:(0,_.$U)(h,`/asset-groups/${i.groupName}`),children:i.groupName}):U]}),(0,n.jsx)("div",{...j,children:(0,n.jsx)(Q,{maxWidth:f.width,children:(0,n.jsx)(O.b,{repoAddress:h,showRefresh:!1})})})]}),(0,n.jsx)(o.x,{flex:{direction:"column",justifyContent:"center"},children:v?(0,n.jsx)(d.$,{purpose:"body-text"}):null})]})}),(0,n.jsx)(J,{children:a.missing.length?(0,n.jsx)(V,{assets:a.missing,getCount:e=>{let{status:t}=e;return t.case===T.KB.PARTITIONS_MISSING&&t.numMissing||0},adjective:"missing",children:(0,n.jsx)(m.V,{intent:"none",children:(0,n.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,n.jsx)("div",{style:{width:"12px",height:"12px",border:`2px solid ${g.im()}`,borderRadius:"50%"}}),a.missing.length]})})}):y}),(0,n.jsx)(J,{children:a.failed.length?(0,n.jsx)(V,{assets:a.failed,getCount:e=>{let{status:t}=e;return t.case===T.KB.PARTITIONS_FAILED&&t.numFailed||0},adjective:"failed",children:(0,n.jsx)(m.V,{intent:"danger",children:(0,n.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,n.jsx)("div",{style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid red",display:"inline-block"}}),a.failed.length]})})}):y}),(0,n.jsx)(J,{children:a.inprogress.length?(0,n.jsx)(V,{assets:a.inprogress,getCount:e=>{let{status:t}=e;return t.case===T.KB.MATERIALIZING&&t.numMaterializing||0},adjective:"materializing",children:(0,n.jsx)(m.V,{intent:"primary",icon:"spinner",children:a.inprogress.length})}):y}),(0,n.jsx)(J,{children:a.successful.length?(0,n.jsx)(V,{assets:a.successful,getCount:e=>{let{status:t}=e;return t.case===T.KB.PARTITIONS_MATERIALIZED&&t.numMaterialized||0},adjective:"materialized",children:(0,n.jsx)(m.V,{intent:"success",children:(0,n.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,n.jsx)("div",{style:{backgroundColor:g.fA(),width:"10px",height:"10px",borderRadius:"50%"}}),a.successful.length]})})}):y})]})})}let K=(0,b.ZP)(o.x).withConfig({componentId:"sc-9ca8ef04-0"})(["display:grid;grid-template-columns:",";height:100%;> *{vertical-align:middle;}"],B),J=e=>{let{children:t}=e;return(0,n.jsx)(M.E5,{style:{color:g.Ep()},children:(0,n.jsx)(o.x,{flex:{direction:"row",alignItems:"center",grow:1},children:t})})},Q=b.ZP.div.withConfig({componentId:"sc-9ca8ef04-1"})(["font-size:12px;pointer-events:none;a{color:",";pointer-events:none;max-width:",";}"],g.$(),e=>{let{maxWidth:t}=e;return t?"unset":`${t}px`});function V(e){let{assets:t,children:r,getCount:i,adjective:s}=e;return(0,n.jsx)(Z,{children:(0,n.jsx)(j.P,{items:t,itemPredicate:(e,t)=>(0,z.ll)(t.asset.key).toLocaleLowerCase().includes(e.toLocaleLowerCase()),itemRenderer:e=>{let t=i(e);return(0,n.jsx)(W,{to:(0,R.p)(e.asset.key),target:"_blank",children:(0,n.jsx)(f.sN,{text:(0,n.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,n.jsx)("div",{style:{paddingLeft:"4px"},children:(0,n.jsx)(p.JO,{name:"asset"})}),(0,n.jsx)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,z.ll)(e.asset.key)}),t&&t>0?(0,n.jsxs)(v.YS,{style:{color:g.$()},children:[(0,A._e)(t)," ",s]}):null]})},(0,z.ll)(e.asset.key))})},onItemSelect:()=>{},children:r})})}let Z=b.ZP.div.withConfig({componentId:"sc-9ca8ef04-2"})(["cursor:pointer;&:hover{font-weight:600;}"]),W=(0,b.ZP)(w.rU).withConfig({componentId:"sc-9ca8ef04-3"})(["&:hover{text-decoration:none;}"]);var G=r(74580);let H=()=>null;var Y=r(73407),X=r(87171),ee=r(39268),et=r(71348),er=r(89918);let ei=e=>{let{refreshState:t,tab:r}=e,i=(0,et.dx)(),s=(0,ee.I)(),{enableAssetHealthOverviewPreview:l}=(0,c.useContext)(X.G);return(0,n.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,n.jsxs)(Y.mQ,{selectedTabId:r,children:[(0,n.jsx)(er.f,{id:"activity",title:"Timeline",to:"/overview/activity"}),l?(0,n.jsx)(er.f,{id:"asset-health",title:"Asset health",to:"/overview/asset-health"}):null,"has-global-amp"===s?(0,n.jsx)(er.f,{id:"amp",title:(0,n.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,n.jsx)("div",{children:"Auto-materialize"}),i.loading?(0,n.jsx)(d.$,{purpose:"body-text"}):(0,n.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:!1===i.paused?g.L$():g.md()}})]}),to:"/overview/automation"}):null,(0,n.jsx)(er.f,{id:"resources",title:"Resources",to:"/overview/resources"}),(0,n.jsx)(er.f,{id:"backfills",title:"Backfills",to:"/overview/backfills"})]}),t?(0,n.jsx)(o.x,{style:{alignSelf:"center"},children:(0,n.jsx)(S.xi,{refreshState:t})}):null]})},es=e=>{let{tab:t,queryData:r,refreshState:i,...s}=e;return(0,n.jsx)(G.m,{tabs:(0,n.jsxs)(o.x,{flex:{direction:"column",gap:8},children:[(0,n.jsx)(ei,{tab:t,queryData:r,refreshState:i}),(0,n.jsx)(H,{})]}),...s})};var en=r(73466),el=r(17872),ea=r(30001),eo=r(38267);let ec=()=>{(0,P.j)("Overview | Activity");let e=c.useCallback(e=>{let{refreshState:t}=e;return(0,n.jsx)(es,{tab:"activity",refreshState:t})},[]),[t,r]=(0,ea.U)("overview-activity-tab",e=>["timeline","assets"].includes(e)?e:"timeline"),{enableAssetHealthOverviewPreview:i}=c.useContext(X.G),s=i?"timeline":t,d=c.useCallback(e=>{let{selected:t}=e;return i?null:(s!==t&&r(t),(0,n.jsxs)(a.zH,{children:[(0,n.jsx)(eo.Q1,{$active:"timeline"===t,to:"/overview/activity/timeline",children:"Timeline"}),(0,n.jsx)(eo.Q1,{$active:"assets"===t,to:"/overview/activity/assets",children:"Assets"})]}))},[s,r,i]);return(0,n.jsx)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:(0,n.jsxs)(l.rs,{children:[!i&&(0,n.jsx)(el.A,{path:"/overview/activity/assets",children:(0,n.jsx)(q,{Header:e,TabButton:d})}),(0,n.jsx)(el.A,{path:"/overview/activity/timeline",children:(0,n.jsx)(en.U,{Header:e,TabButton:d})}),(0,n.jsx)(el.A,{path:"*",isNestingRoute:!0,render:c.useCallback(()=>"timeline"===s?(0,n.jsx)(l.l_,{to:"/overview/activity/timeline"}):(0,n.jsx)(l.l_,{to:"/overview/activity/assets"}),[s])})]})})};var ed=r(37483),eu=r(35002),eh=r(22921),ex=r(53664),ep=r(15686);let em="1.5fr 1fr 1fr",eg=e=>{let{name:t,description:r,repoAddress:i,start:s,height:l,resourceType:a,parentResources:c,jobsOpsUsing:d,assetKeysUsing:u,schedulesUsing:h,sensorsUsing:x}=e,m=(0,ep.$)(a),j=c.length+d.length+u.length+h.length+x.length;return(0,n.jsx)(M.X2,{$height:l,$start:s,children:(0,n.jsxs)(ef,{border:"bottom",children:[(0,n.jsx)(M.E5,{children:(0,n.jsxs)(o.x,{flex:{direction:"column",gap:4},children:[(0,n.jsxs)(o.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,n.jsx)(p.JO,{name:"resource",color:g.md()}),(0,n.jsx)("span",{style:{fontWeight:500},children:(0,n.jsx)(w.rU,{to:(0,_.$U)(i,`/resources/${t}`),children:(0,n.jsx)(ex.g,{text:t})})})]}),(0,n.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,n.jsx)(v.YS,{style:{color:g.$(),whiteSpace:"nowrap"},children:r})})]})}),(0,n.jsx)(M.E5,{children:(0,n.jsx)(eu.u,{content:a,children:(0,n.jsx)(v.fv,{children:m})})}),(0,n.jsx)(M.E5,{children:(0,n.jsx)(w.rU,{to:(0,_.$U)(i,`/resources/${t}/uses`),children:j})})]})})},ej=()=>(0,n.jsxs)(M.VJ,{templateColumns:em,sticky:!0,children:[(0,n.jsx)(M.qN,{children:"Name"}),(0,n.jsx)(M.qN,{children:"Type"}),(0,n.jsx)(M.qN,{children:"Uses"})]}),ef=(0,b.ZP)(o.x).withConfig({componentId:"sc-6af8490b-0"})(["display:grid;grid-template-columns:",";height:100%;"],em);var ev=r(98956),ey=r(50646),ew=r(83738),eb=r(22563);let ek=e=>{let{repos:t}=e,r=(0,c.useRef)(null),i=(0,c.useMemo)(()=>t.map(e=>{let{repoAddress:t}=e;return(0,eb.Uz)(t)}),[t]),{expandedKeys:s,onToggle:l,onToggleAll:a}=(0,ey.N)(eh.y,i),o=(0,c.useMemo)(()=>{let e=[];return t.forEach(t=>{let{repoAddress:r,resources:i}=t;e.push({type:"header",repoAddress:r,resourceCount:i.length});let n=(0,eb.Uz)(r);s.includes(n)&&i.forEach(t=>{e.push({type:"resource",repoAddress:r,...t})})}),e},[t,s]),d=(0,ev.w)(t.map(e=>{let{repoAddress:t}=e;return t.name})),u=(0,y.MG)({count:o.length,getScrollElement:()=>r.current,estimateSize:e=>{let t=o[e];return t?.type==="header"?32:64},overscan:10}),h=u.getTotalSize(),x=u.getVirtualItems();return(0,n.jsx)("div",{style:{overflow:"hidden"},children:(0,n.jsxs)(M.W2,{ref:r,children:[(0,n.jsx)(ej,{}),(0,n.jsx)(M.Nh,{$totalHeight:h,children:x.map(e=>{let{index:t,key:r,size:i,start:c}=e,u=o[t];return"header"===u.type?(0,n.jsx)(ew.vG,{repoAddress:u.repoAddress,height:i,start:c,onToggle:l,onToggleAll:a,expanded:s.includes((0,eb.Uz)(u.repoAddress)),showLocation:d.has(u.repoAddress.name),rightElement:(0,n.jsx)(eu.u,{content:1===u.resourceCount?"1 resource":`${u.resourceCount} resources`,placement:"top",children:(0,n.jsx)(m.V,{children:u.resourceCount})})},r):(0,n.jsx)(eg,{height:i,start:c,...u},r)})})]})})};var eS=r(907),eC=r(49455),eE=r(20958),eT=r(78491),ez=r(43250),eI=r(25716),eA=r(58495);let e$=e=>{let{tooltipContent:t}=e;return(0,eA.F)(2e3)?(0,n.jsx)(o.x,{margin:{top:1},children:(0,n.jsx)(eu.u,{placement:"top",canShow:!!t,content:t||"",children:(0,n.jsx)(d.$,{purpose:"body-text"})})}):null};var eR=r(17867);let eP=()=>{(0,C.Px)(),(0,P.j)("Overview | Resources");let{allRepos:e,visibleRepos:t,loading:r,data:i}=(0,c.useContext)(eR.C5),[s,l]=(0,L.q)({queryKey:"search",defaults:{search:""}}),a=e.length,h=(0,eE.aM)(eO,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),{data:x,loading:p}=h,m=(0,S.C4)(h,S.dT),j=(0,c.useMemo)(()=>{let e=(0,eC.S)(t),r=Object.values(i).filter(e=>"WorkspaceLocationEntry"===e.__typename),s=x?.workspaceOrError;return eL(s?.__typename==="Workspace"?s.locationEntries:r).filter(t=>{let{repoAddress:r}=t;return e.has((0,eb.Uz)(r))})},[i,x,t]),f=!x&&p&&r,v=s.trim().toLocaleLowerCase(),y=v.length>0,w=(0,c.useMemo)(()=>{let e=v.toLocaleLowerCase();return j.map(t=>{let{repoAddress:r,resources:i}=t;return{repoAddress:r,resources:i.filter(t=>{let{name:r}=t;return r.toLocaleLowerCase().includes(e)})}}).filter(e=>{let{resources:t}=e;return t.length>0})},[j,v]),b=p&&!x;return(0,n.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,n.jsx)(es,{tab:"resources",refreshState:m}),(0,n.jsxs)(o.x,{padding:{horizontal:24,vertical:16},flex:{direction:"row",alignItems:"center",gap:12,grow:0},children:[a>1?(0,n.jsx)(ez.C,{}):null,(0,n.jsx)(u.oi,{icon:"search",value:s,rightElement:b?(0,n.jsx)(e$,{tooltipContent:"Loading resources…"}):void 0,onChange:e=>l(e.target.value),placeholder:"Filter by resource name…",style:{width:"340px"}})]}),f&&!a?(0,n.jsx)(o.x,{padding:64,children:(0,n.jsx)(d.$,{purpose:"page"})}):(()=>{if(f)return(0,n.jsx)(o.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,n.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,n.jsx)(d.$,{purpose:"body-text"}),(0,n.jsx)("div",{style:{color:g.$()},children:"Loading resources…"})]})});let r=e.length>t.length;return w.length?(0,n.jsx)(ek,{repos:w}):y?(0,n.jsx)(o.x,{padding:{top:20},children:(0,n.jsx)(ed.t,{icon:"search",title:"No matching resources",description:r?(0,n.jsxs)("div",{children:["No resources matching ",(0,n.jsx)("strong",{children:s})," were found in the selected code locations"]}):(0,n.jsxs)("div",{children:["No resources matching ",(0,n.jsx)("strong",{children:s})," were found in your definitions"]})})}):(0,n.jsx)(o.x,{padding:{top:20},children:(0,n.jsx)(ed.t,{icon:"search",title:"No resources",description:r?"No resources were found in the selected code locations":"No resources were found in your definitions"})})})()]})},eL=e=>{let t=e.map(e=>e.locationOrLoadError),r=[];for(let e of t)if(e?.__typename==="RepositoryLocation")for(let t of e.repositories){let{name:i,allTopLevelResourceDetails:s}=t,n=(0,N.kQ)(i,e.name);s.length>0&&r.push({repoAddress:n,resources:s})}return(0,eS.S)(r)},eO=(0,eE.Ps)`
  query OverviewResourcesQuery {
    workspaceOrError {
      ... on Workspace {
        id
        locationEntries {
          id
          locationOrLoadError {
            ... on RepositoryLocation {
              id
              name
              repositories {
                id
                name
                allTopLevelResourceDetails {
                  id
                  ...ResourceEntryFragment
                }
              }
            }
            ...PythonErrorFragment
          }
        }
      }
      ...PythonErrorFragment
    }
  }

  ${eT.B}
  ${eI.L}
`;var eM=r(49308),eN=r(51484),e_=r(1747),eq=r(37504);let eB=(0,eE.Ps)`
  fragment AssetDaemonTickFragment on InstigationTick {
    id
    timestamp
    endTimestamp
    status
    instigationType
    error {
      ...PythonErrorFragment
    }
    requestedAssetKeys {
      path
    }
    requestedAssetMaterializationCount
    autoMaterializeAssetEvaluationId
    requestedMaterializationsForAssets {
      assetKey {
        path
      }
      partitionKeys
    }
  }

  ${eT.B}
`,eF=(0,eE.Ps)`
  query AssetDaemonTicksQuery(
    $dayRange: Int
    $dayOffset: Int
    $statuses: [InstigationTickStatus!]
    $limit: Int
    $cursor: String
    $beforeTimestamp: Float
    $afterTimestamp: Float
  ) {
    autoMaterializeTicks(
      dayRange: $dayRange
      dayOffset: $dayOffset
      statuses: $statuses
      limit: $limit
      cursor: $cursor
      beforeTimestamp: $beforeTimestamp
      afterTimestamp: $afterTimestamp
    ) {
      id
      ...AssetDaemonTickFragment
    }
  }

  ${eB}
`;var eU=r(92506),eD=r(22791),eK=r(88257),eJ=r(44030),eQ=r(5620),eV=r(37680);let eZ=(0,c.memo)(e=>{let{tick:t,isOpen:r,close:i}=e;return(0,n.jsx)(eV.Vm,{isOpen:r,setIsOpen:i,height:400,header:(0,n.jsx)(eU.fK,{label:t?(0,n.jsx)("div",{children:(0,n.jsx)(eD.E,{timestamp:{unix:t.timestamp},timeFormat:{showTimezone:!0}})}):""}),content:(0,n.jsxs)("div",{style:{display:"grid",gridTemplateRows:"auto auto minmax(0, 1fr)",height:"100%"},children:[(0,n.jsx)(o.x,{padding:{vertical:12,horizontal:24},border:"bottom",children:t?(0,n.jsx)(eJ.c,{tick:t,tickResultType:"materializations"}):null}),t?.status===eK.izS.STARTED?null:(0,n.jsx)(eQ.u,{tick:t})]})})});var eW=r(80122),eG=r(71902),eH=r(15332),eY=r(74928);let eX=e=>{let{filterTags:t,setTableView:r}=e,{queryResult:i,paginationProps:s}=(0,eH.l)({nextCursorForResult:e=>{if("Runs"===e.pipelineRunsOrError.__typename)return e.pipelineRunsOrError.results[15-1]?.id},getResultArray:e=>e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[],variables:{filter:{tags:[...t||[],{key:"dagster/auto_materialize",value:"true"}]}},query:eY.z,pageSize:15});(0,S.C4)(i,15e3);let l=(i.data||i.previousData)?.pipelineRunsOrError;return(0,n.jsxs)(o.x,{children:[(0,n.jsxs)(e0,{children:[(0,n.jsx)(o.x,{padding:{vertical:12,horizontal:24},margin:{top:32},border:"top",children:(0,n.jsx)(eN.h,{activeItems:new Set(["runs"]),buttons:[{id:"evaluations",label:"Evaluations"},{id:"runs",label:"Runs"}],onClick:e=>{r(e)}})}),(0,n.jsx)(eG.A,{runs:l?.__typename==="Runs"?l.results:[]})]}),(0,n.jsx)("div",{style:{paddingBottom:"16px"},children:(0,n.jsx)(eW.pI,{...s})})]})},e0=b.ZP.div.withConfig({componentId:"sc-8fab7b65-0"})(["position:relative;> *:nth-child(2){position:absolute;right:0;top:0;}"]);var e1=r(89891),e2=r(2278),e3=r(58905);let e5=e=>{let{loading:t,ticks:r,tickStatus:i,setTickStatus:s,setSelectedTick:l,paginationProps:a,actionBarComponents:c}=e;return(0,n.jsxs)(o.x,{children:[(0,n.jsxs)(o.x,{flex:{justifyContent:"space-between",alignItems:"center"},padding:{vertical:12,horizontal:24},margin:{top:32},border:"top",children:[(0,n.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[c,t&&!r?.length?(0,n.jsx)(d.$,{purpose:"body-text"}):null]}),(0,n.jsx)(e9,{status:i,onChange:s})]}),(0,n.jsxs)(e6,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{style:{width:120},children:"Timestamp"}),(0,n.jsx)("th",{style:{width:90},children:"Status"}),(0,n.jsx)("th",{style:{width:90},children:"Duration"}),(0,n.jsx)("th",{style:{width:180},children:"Result"})]})}),(0,n.jsx)("tbody",{children:r.map((e,t)=>{let r=0!==t&&e.status===eK.izS.STARTED&&!a.hasPrevCursor;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)(eD.E,{timestamp:{unix:e.timestamp},timeFormat:{showTimezone:!0}})}),(0,n.jsx)("td",{children:(0,n.jsx)(e3.a,{tick:e,tickResultType:"materializations",isStuckStarted:r})}),(0,n.jsx)("td",{children:r?" - ":(0,n.jsx)(e2.Q,{startUnix:e.timestamp,endUnix:e.endTimestamp})}),(0,n.jsx)("td",{children:[eK.izS.SKIPPED,eK.izS.SUCCESS].includes(e.status)?(0,n.jsx)(e1.Z,{onClick:()=>{l(e)},children:(0,n.jsxs)(v.pN,{children:[e.requestedAssetMaterializationCount," materializations requested"]})}):" - "})]},e.id)})})]}),(0,n.jsx)("div",{style:{paddingBottom:"16px"},children:(0,n.jsx)(eW.pI,{...a})})]})};(i=s||(s={})).ALL="all",i.FAILED="failed",i.SUCCESS="success";let e4={all:[eK.izS.SUCCESS,eK.izS.FAILURE,eK.izS.STARTED,eK.izS.SKIPPED],failed:[eK.izS.FAILURE],success:[eK.izS.SUCCESS]},e8=[{key:"all",label:"All ticks"},{key:"success",label:"Requested"},{key:"failed",label:"Failed"}],e9=e=>{let{status:t,onChange:r}=e,i=e8.find(e=>{let{key:r}=e;return r===t});return(0,n.jsx)(j.P,{popoverProps:{position:"bottom-right"},filterable:!1,activeItem:i,items:e8,itemRenderer:(e,t)=>(0,n.jsx)(f.sN,{active:t.modifiers.active,onClick:t.handleClick,text:e.label,style:{width:"300px"}},e.key),onItemSelect:e=>r(e.key),children:(0,n.jsx)(a.zx,{rightIcon:(0,n.jsx)(p.JO,{name:"arrow_drop_down"}),style:{minWidth:"200px",display:"flex",justifyContent:"space-between"},children:i?.label})})},e6=(0,b.ZP)(e_.i).withConfig({componentId:"sc-1b725a66-0"})(["th,td{vertical-align:middle !important;}"]),e7=e=>{let{setSelectedTick:t,setTimerange:r,setParentStatuses:i,actionBarComponents:l}=e,[a,o]=(0,L.q)({queryKey:"status",defaults:{status:s.ALL}}),d=(0,c.useMemo)(()=>e4[a]||e4[s.ALL],[a]),{queryResult:u,paginationProps:h}=(0,eH.l)({query:eF,variables:{statuses:(0,c.useMemo)(()=>Array.from(d),[d])},nextCursorForResult:e=>{let t=e.autoMaterializeTicks;if(t.length)return t[15-1]?.id},getResultArray:e=>e?.autoMaterializeTicks?e.autoMaterializeTicks:[],pageSize:15});return(0,S.C4)(u,1e4,!h.hasPrevCursor),(0,c.useEffect)(()=>{if(h.hasPrevCursor){let e=u.data?.autoMaterializeTicks;if(e&&e.length){let t=e[e.length-1]?.timestamp,i=e[0]?.endTimestamp;t&&i&&r([t,i])}}else r(void 0)},[h.hasPrevCursor,u.data?.autoMaterializeTicks,r]),(0,c.useEffect)(()=>{h.hasPrevCursor?i(Array.from(d)):i(void 0)},[h.hasPrevCursor,i,d]),(0,n.jsx)(e5,{loading:u.loading,ticks:u.data?.autoMaterializeTicks||[],paginationProps:h,setSelectedTick:t,tickStatus:a,setTickStatus:o,actionBarComponents:l})};var te=r(56130),tt=r(49438),tr=r(36803),ti=r(59502),ts=r(57758),tn=r(39554);let tl={tags:[{key:"dagster/auto_materialize",value:"true"}]},ta=()=>{let e=(0,et.dx)(),{flagLegacyRunsPage:t}=(0,tt.gV)(),r=(0,te.p)(),{permissions:{canToggleAutoMaterialize:i}={}}=(0,tr.WB)(),[s,l]=(0,c.useState)(!1),[a,u]=(0,c.useState)(void 0),[h,x]=(0,c.useState)(void 0),p=(0,c.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return h||a?{afterTimestamp:h?.[0],beforeTimestamp:h?.[1],statuses:a}:{afterTimestamp:(e-12e5)/1e3}},[a,h]),[m,j]=(0,eE.td)(eF),f=(0,c.useCallback)(async()=>await m({variables:p()}),[m,p]);(0,c.useEffect)(()=>{f()},[f]),(0,S.bT)({refresh:f,enabled:!s&&!h&&!a,intervalMs:2e3,leading:!0});let[y,w]=(0,c.useState)(null),[b,k]=(0,L.q)((0,c.useMemo)(()=>({queryKey:"view",decode:e=>{let{view:t}=e;return"runs"===t?"runs":"evaluations"},encode:e=>({view:e,cursor:void 0,statuses:void 0})}),[])),C=j.data??j.previousData,E=(0,c.useMemo)(()=>C?.autoMaterializeTicks||[],[C]),T=(0,c.useMemo)(()=>E?.map((e,t)=>{let r=E[t-1];if(r&&ts.g6(e,t)){let t={...e};return t.endTimestamp=r.timestamp,t.status=eK.izS.FAILURE,t}return e})??[],[JSON.stringify(E.map(e=>`${e.id}:${e.status}`))]),z=(0,c.useCallback)(e=>{l(!!e)},[l]),I=(0,n.jsx)(eN.h,{activeItems:new Set([b]),buttons:[{id:"evaluations",label:"Evaluations"},{id:"runs",label:"Runs"}],onClick:e=>{k(e)}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e_.i,{children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Running"}),(0,n.jsx)("td",{children:e.loading?(0,n.jsx)(d.$,{purpose:"body-text"}):(0,n.jsx)(eq.X,{format:"switch",checked:!e.paused,disabled:!i,onChange:async t=>{let i=t.target.checked;i||await r({title:"Pause Auto-materializing?",description:"Pausing Auto-materializing will prevent new materializations triggered by an Auto-materializing policy."}),e.setPaused(!i)}})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Evaluation frequency"}),(0,n.jsx)("td",{children:"~30s"})]})]})}),(0,n.jsx)(o.x,{padding:{vertical:12,horizontal:24},border:"bottom",children:(0,n.jsx)(v.Tj,{children:"Evaluation timeline"})}),C?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ti.p,{ticks:T,tickResultType:"materializations",onHoverTick:z,onSelectTick:w,exactRange:h,timeRange:12e5,tickGrid:3e5,timeAfter:18e4}),(0,n.jsx)(eZ,{tick:y,isOpen:!!y,close:()=>{w(null)}}),"evaluations"===b?(0,n.jsx)(e7,{setSelectedTick:w,setParentStatuses:u,setTimerange:x,actionBarComponents:I}):t?(0,n.jsx)(eX,{setTableView:k}):(0,n.jsx)(o.x,{margin:{top:32},border:"top",children:(0,n.jsx)(tn.g,{filter:tl,actionBarComponents:I})})]}):(0,n.jsxs)(o.x,{padding:{vertical:48},flex:{direction:"row",justifyContent:"center",gap:12,alignItems:"center"},children:[(0,n.jsx)(d.$,{purpose:"body-text"}),(0,n.jsx)("div",{style:{color:g.$()},children:"Loading evaluations…"})]})]})};var to=r(71406);let tc=()=>{let e=(0,ee.I)();switch(e){case"unknown":return(0,n.jsx)("div",{});case"has-global-amp":return(0,n.jsx)(td,{});case"has-sensor-amp":return(0,n.jsx)(l.l_,{to:"/automation"});default:(0,to.UT)(e)}},td=()=>((0,C.Px)(),(0,P.j)("Overview | Auto-materialize"),(0,n.jsxs)(eM.T,{children:[(0,n.jsx)(es,{tab:"amp"}),(0,n.jsx)(ta,{})]}));var tu=r(90731),th=r(54048),tx=r(97211),tp=r(74548);let tm=e=>{switch(e){case eK.Jv3.CANCELED:return"Canceled";case eK.Jv3.CANCELING:return"Canceling";case eK.Jv3.COMPLETED:return"Completed";case eK.Jv3.FAILED:return"Failed";case eK.Jv3.REQUESTED:return"In progress";case eK.Jv3.COMPLETED_SUCCESS:return"Success";case eK.Jv3.COMPLETED_FAILED:return"Failed"}},tg=Object.keys(eK.Jv3).map(e=>{let t=tm(e);return{label:t,value:e,match:[e,t]}}),tj=()=>{(0,C.Px)(),(0,P.j)("Overview | Backfills");let[e,t]=(0,L.q)({encode:e=>({status:e.size?Array.from(e).join(","):void 0}),decode:e=>new Set(e.status?.split(",")||[])}),r=(0,tp.im)({name:"Status",icon:"status",allValues:tg,allowMultipleSelections:!1,closeOnSelect:!0,renderLabel:e=>{let{value:t}=e;return(0,n.jsx)("div",{children:tm(t)})},getStringValue:e=>tm(e),state:e,onStateChanged:t}),{button:i,activeFiltersJsx:s}=(0,tx.m)({filters:[r]}),{queryResult:l,paginationProps:a}=(0,eH.l)({query:tf,variables:{status:e.size>0?Array.from(e)[0]:void 0},pageSize:10,nextCursorForResult:e=>"PartitionBackfills"===e.partitionBackfillsOrError.__typename?e.partitionBackfillsOrError.results[10-1]?.id:void 0,getResultArray:e=>e?.partitionBackfillsOrError.__typename==="PartitionBackfills"?e.partitionBackfillsOrError.results:[]}),c=(0,th.$$)(),u=(0,S.C4)(l,S.dT),{loading:x,data:p}=l,[m,j]=(0,ea.U)("new_backfill_location_alert",e=>!!e);return(0,n.jsxs)(n.Fragment,{children:[m?null:(0,n.jsx)(e=>{let{setDidDismissBackfillPageAlert:t}=e;return(0,n.jsx)(o.x,{padding:8,border:"top-and-bottom",children:(0,n.jsx)(h.b,{title:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Backfills are moving:"}),(0,n.jsxs)("span",{style:{fontWeight:"normal"},children:[" ","We're incorporating backfills into the ",(0,n.jsx)(w.rU,{to:"/runs/",children:"Runs"})," page to unify the UI and provide one page to see all of your executions. The Backfills page will be removed in a future release."," ",(0,n.jsx)("a",{href:"https://github.com/dagster-io/dagster/discussions/24898",target:"_blank",rel:"noreferrer",children:"Share feedback"})," "]})]}),onClose:()=>t(!0)})})},{setDidDismissBackfillPageAlert:j}),(0,n.jsxs)(o.x,{padding:{vertical:12,horizontal:20},flex:{direction:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)(o.x,{flex:{direction:"column",gap:8},children:[(0,n.jsx)("div",{children:i}),s]}),(0,n.jsx)(S.xi,{refreshState:u})]}),(()=>{if(x&&!p)return(0,n.jsx)(o.x,{padding:{vertical:64},flex:{direction:"column",alignItems:"center"},children:(0,n.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,n.jsx)(d.$,{purpose:"body-text"}),(0,n.jsx)("div",{style:{color:g.$()},children:"Loading backfills…"})]})});let t=p?.partitionBackfillsOrError;return t?.__typename==="PythonError"?(0,n.jsx)(k.T9,{error:t}):t&&t?.results.length?(0,n.jsxs)("div",{children:[c?null:(0,n.jsx)(o.x,{padding:{horizontal:24,bottom:16},children:(0,n.jsx)(th.So,{})}),(0,n.jsx)(tu.GQ,{backfills:t.results.slice(0,10),refetch:l.refetch}),t.results.length>0?(0,n.jsx)(o.x,{margin:{top:16},children:(0,n.jsx)(eW.b$,{...a})}):null]}):e.size>0?(0,n.jsx)(o.x,{padding:{vertical:64},children:(0,n.jsx)(ed.t,{icon:"no-results",title:"No matching backfills",description:"No backfills were found for this filter."})}):(0,n.jsx)(o.x,{padding:{vertical:64},children:(0,n.jsx)(ed.t,{icon:"no-results",title:"No backfills found",description:"This instance does not have any backfill jobs."})})})()]})},tf=(0,eE.Ps)`
  query InstanceBackfillsQuery($status: BulkActionStatus, $cursor: String, $limit: Int) {
    partitionBackfillsOrError(status: $status, cursor: $cursor, limit: $limit) {
      ... on PartitionBackfills {
        results {
          id
          status
          isValidSerialization
          numPartitions
          timestamp
          partitionSetName
          partitionSet {
            id
            name
            mode
            pipelineName
            repositoryOrigin {
              id
              repositoryName
              repositoryLocationName
            }
          }
          error {
            ...PythonErrorFragment
          }

          ...BackfillTableFragment
        }
      }
      ...PythonErrorFragment
    }
  }

  ${eT.B}
  ${tu.be}
`,tv=()=>((0,C.Px)(),(0,P.j)("Overview | Backfills"),(0,n.jsxs)(eM.T,{children:[(0,n.jsx)(es,{tab:"backfills"}),(0,n.jsx)(tj,{})]}));var ty=r(84927),tw=r(3295),tb=r(74905),tk=r(33878),tS=r(23449),tC=r(7152),tE=r(32093),tT=r(77851);let tz=()=>{let{featureContext:e}=(0,c.useContext)(tE.U),{backfillId:t}=(0,l.UO)();(0,C.Px)(),(0,P.j)(`Backfill | ${t}`);let[r,i]=(0,L.q)({queryKey:"tab",defaults:{tab:"partitions"}}),s=(0,tC.ul)(t),a=(0,th.$$)(),{data:u,error:x}=s,p=u?.partitionBackfillOrError.__typename==="PartitionBackfill"?u.partitionBackfillOrError:null,m=!p||[eK.Jv3.REQUESTED,eK.Jv3.CANCELING].includes(p.status),j=(0,S.C4)(s,1e4,m);return(0,n.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,n.jsx)(G.m,{title:(0,n.jsxs)(v.X6,{children:[(0,n.jsx)(w.rU,{to:"/overview/backfills",style:{color:g.$()},children:"Backfills"})," / ",t]}),right:(0,n.jsxs)(o.x,{flex:{gap:12,alignItems:"center"},children:[m?(0,n.jsx)(S.xi,{refreshState:j}):null,p?(0,n.jsx)(ty.WH,{backfill:p,refetch:s.refetch,canCancelRuns:p.status===eK.Jv3.REQUESTED}):null]})}),function(){if(!u||!u.partitionBackfillOrError)return(0,n.jsx)(o.x,{padding:64,"data-testid":(0,tT.N)("page-loading-indicator"),children:(0,n.jsx)(d.$,{purpose:"page"})});if("PythonError"===u.partitionBackfillOrError.__typename)return(0,n.jsx)(k.T9,{error:u.partitionBackfillOrError});if("BackfillNotFoundError"===u.partitionBackfillOrError.__typename)return(0,n.jsx)(ed.t,{icon:"no-results",title:u.partitionBackfillOrError.message});let t=u.partitionBackfillOrError;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tk.q,{backfill:t}),a?null:(0,n.jsx)(o.x,{padding:{horizontal:24,bottom:16},children:(0,n.jsx)(th.So,{})}),(0,n.jsx)(o.x,{padding:{left:24},border:"bottom",children:(0,n.jsxs)(Y.mQ,{size:"large",selectedTabId:r,children:[(0,n.jsx)(Y.OK,{id:"partitions",title:"Partitions",onClick:()=>i("partitions")}),(0,n.jsx)(Y.OK,{id:"runs",title:"Runs",onClick:()=>i("runs")}),e.canSeeBackfillCoordinatorLogs?(0,n.jsx)(Y.OK,{id:"logs",title:"Coordinator logs",onClick:()=>i("logs")}):null]})}),x?.graphQLErrors&&(0,n.jsx)(h.b,{intent:"error",title:x.graphQLErrors.map(e=>e.message)}),(0,n.jsxs)(o.x,{flex:{direction:"column"},style:{flex:1,position:"relative",minHeight:0},children:["partitions"===r&&(0,n.jsx)(tw.Sl,{backfill:t}),"runs"===r&&(0,n.jsx)(tS.t,{backfill:t,view:"both"}),"logs"===r&&(0,n.jsx)(tb.o,{backfill:t})]})]})}()]})},tI=()=>(0,n.jsxs)(l.rs,{children:[(0,n.jsx)(el.A,{path:"/overview/activity",isNestingRoute:!0,children:(0,n.jsx)(ec,{})}),(0,n.jsx)(el.A,{path:"/overview/jobs",render:()=>(0,n.jsx)(l.l_,{to:"/jobs"})}),(0,n.jsx)(el.A,{path:"/overview/schedules",render:()=>(0,n.jsx)(l.l_,{to:"/automation"})}),(0,n.jsx)(el.A,{path:"/overview/sensors",render:()=>(0,n.jsx)(l.l_,{to:"/automation"})}),(0,n.jsx)(el.A,{path:"/overview/automation",render:()=>(0,n.jsx)(tc,{})}),(0,n.jsx)(el.A,{path:"/overview/backfills/:backfillId",render:()=>(0,n.jsx)(tz,{})}),(0,n.jsx)(el.A,{path:"/overview/backfills",exact:!0,render:()=>(0,n.jsx)(tv,{})}),(0,n.jsx)(el.A,{path:"/overview/resources",children:(0,n.jsx)(eP,{})}),(0,n.jsx)(el.A,{path:"*",isNestingRoute:!0,render:()=>(0,n.jsx)(l.l_,{to:"/overview/activity"})})]});var tA=tI},907:function(e,t,r){r.d(t,{S:function(){return s}});var i=r(22563);let s=e=>[...e].sort((e,t)=>{let r=(0,i.Uz)(e.repoAddress),s=(0,i.Uz)(t.repoAddress);return r.localeCompare(s)})},49455:function(e,t,r){r.d(t,{S:function(){return n}});var i=r(65822),s=r(22563);let n=e=>new Set(e.map(e=>(0,s.Uz)((0,i.kQ)(e.repository.name,e.repositoryLocation.name))))},58905:function(e,t,r){r.d(t,{a:function(){return g}});var i=r(52322),s=r(43212),n=r(75561),l=r(39013),a=r(35002),o=r(14934),c=r(89891),d=r(40191),u=r(92506),h=r(38491),x=r(2784),p=r(99590),m=r(88257);let g=e=>{let{tick:t,tickResultType:r,isStuckStarted:g}=e,[j,f]=(0,x.useState)(!1),v=(0,x.useMemo)(()=>{let e="materializations"===r?"materialization":"run";switch(t.status){case m.izS.STARTED:return(0,i.jsx)(s.V,{intent:"primary",icon:g?void 0:"spinner",children:g?"In progress":"Evaluating"});case m.izS.SKIPPED:let u=(0,i.jsx)(n.m,{fillColor:l.fk(),label:"materializations"===r?"0 materializations requested":"0 runs requested"});if("runKeys"in t&&t.runKeys.length){let e=`${t.runKeys.length} runs requested, but skipped because the runs already exist for the requested keys.`;return(0,i.jsx)(a.u,{position:"right",content:e,children:u})}if("skipReason"in t&&t.skipReason)return(0,i.jsx)(a.u,{position:"right",content:t.skipReason,targetTagName:"div",children:u});return u;case m.izS.FAILURE:return(0,i.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,i.jsx)(s.V,{intent:"danger",children:"Failure"}),t.error?(0,i.jsx)(c.Z,{onClick:()=>{f(!0)},children:"View"}):null]});case m.izS.SUCCESS:let h="materializations"===r?t.requestedAssetMaterializationCount:t.runIds.length,x=(0,i.jsxs)(s.V,{intent:"success",children:[h," ",e,(0,d.I)(h,"","s")," requested"]});if("runKeys"in t&&t.runKeys.length>t.runIds.length){let e=`${t.runKeys.length} runs requested, but ${t.runKeys.length-t.runIds.length} skipped because the runs already exist for those requested keys.`;return(0,i.jsx)(a.u,{position:"right",content:e,children:x})}return x}},[g,t,r]);return(0,i.jsxs)(i.Fragment,{children:[v,t.error?(0,i.jsxs)(u.Vq,{isOpen:j,title:"Error",style:{width:"80vw"},children:[(0,i.jsx)(u.a7,{children:(0,i.jsx)(p.T9,{error:t.error})}),(0,i.jsx)(u.cN,{topBorder:!0,children:(0,i.jsx)(h.zx,{intent:"primary",onClick:()=>{f(!1)},children:"Close"})})]}):null]})}}}]);
//# sourceMappingURL=7537.f76a3818a8e7ab48.js.map